<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="/layout/layoutPadrao">

<head>
	<title th:text="${codigo == null ? 'Cadastrar Fabricante' : 'Editar Fabricante'}"></title>
</head>
<section layout:fragment="conteudo">
	<div class="container">
		<div class="section">
			<div class="input-field col m12 s12 l4" align="right" style="margin-left: 500px;">
				<a class="waves-effect waves-light btn" th:href="@{/fabricantes/add}">Novo</a>
			</div>
			<!-- Mensagens -->
			<div th:if="${messageAdd}">
				<h6 id="messageAdd" class="messageAdd" style="color: white;" th:text="${messageAdd}"></h6>
			</div>
			<div th:if="${messageEdit}">
				<h6 id="messageEdit" class="messageEdit" style="color: white;" th:text="${messageEdit}"></h6>
			</div>			
			<div class="row">
				<div class="col s12 m12">
					<div class="card hoverable">
						<div class="card-content black-text">
							<span class="card-title"
								  th:text="${codigo == null ? 'Cadastrar Fabricante' : 'Editar Fabricante'}">
							</span>
							
							<div class="row">
								<form class="col s12" th:action="@{/fabricantes/add}" th:object="${fabricante}"
									  method="post">
									
									<input type="hidden" th:field="*{codigo}" />
									
									<div class="row">
										<div class="input-field col m6 s12">
											<input id="nome" type="text" class="validate" th:field="*{nome}"
												   th:classappend="${#fields.hasErrors('nome')} ? invalid" required />
											<label for="nome" data-error="Nome é obrigatório">Nome</label>	   
										</div>
										<div class="input-field col m6 s12">
											<input id="nuCnpj" type="text" class="validate" th:field="*{nuCnpj}"
												   th:classappend="${#fields.hasErrors('nuCnpj')} ? invalid" 
												   maxlength="14" required />
											<label for="nuCnpj">CNPJ</label>
										</div>
									</div>	  
									<button id="btnClick" class="btn waves-effect waves-light" type="submit" 
									        name="action">Salvar
										<i class="material-icons right">send</i>
									</button>
									
								</form>
							</div>
						</div>
						
						<div class="card-action">
							<a th:href="@{/fabricantes}">Voltar</a>
						</div>
						
					</div>
				</div>
			</div>
			
		</div>
	</div>
</section>
<th:block layout:fragment="javascript-controle">
	<script th:src="@{/javascript/masks.js}"></script>
	<script th:src="@{/javascript/toast-message.js}"></script>
</th:block>

</html>	  